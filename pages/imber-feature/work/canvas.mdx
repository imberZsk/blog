## 基础

canvas很强大，需要一些学习成本，基本还是比较简单的

推荐一篇掘金文章：https://juejin.cn/post/7119495608938790942

## 截图功能

canvas很强大，但有些东西自己写比较复杂，遇到截图功能的时候可以用`html2canvas`这个库

- `pnpm i html2canvas`

  ```js
  import html2canvas from 'html2canvas'
  
  html2canvas(document.querySelector('#coverpic') as HTMLElement, {
    //在线图片域名需要配置允许跨域访问
    //为了给图片配置crossorigin="anonymous"  
    useCORS: true,//开启跨域配置
    allowTaint: true,//允许跨域图片
    backgroundColor: 'transparent'//背景色
  }).then((canvas) => {
    const imgData = canvas.toDataURL('image/png', 1.0)//获取到的图片url
    setTargetImg(imgData)
  })
  ```

## H5手指拖动和缩放功能

自己写很麻烦，找到一个库，其实也有一些问题，但基本不影响使用

- `pnpm i pinch-zoom-js`

  ```js
  import PinchZoom from 'pinch-zoom-js'
  
  const el = document.querySelector('#img1') as HTMLElement
  const pz = new PinchZoom(el, {
    zoomOutFactor: 0.3 //缩放低于这个值的时候调整为原始大小
  })
  pz.enable()
  ```

  